const spec1 = {
  "$schema": "https://vega.github.io/schema/vega/v5.json",
  "background": "white",
  "padding": 5,
  "width": 1500,
  "data": [
    {"name": "param_16_store"},
    {
      "name": "data-37aa2254c4f02587a951ba32ab695aa3",
      "values": [
        {
          "index": 541,
          "VIOLATION DATE": "2023-03-01T00:00:00",
          "CAMERA ID": 134,
          "VIOLATIONS": 5526
        },
        {
          "index": 550,
          "VIOLATION DATE": "2023-03-02T00:00:00",
          "CAMERA ID": 133,
          "VIOLATIONS": 5537
        },
        {
          "index": 559,
          "VIOLATION DATE": "2023-03-03T00:00:00",
          "CAMERA ID": 134,
          "VIOLATIONS": 5055
        },
        {
          "index": 568,
          "VIOLATION DATE": "2023-03-04T00:00:00",
          "CAMERA ID": 71,
          "VIOLATIONS": 5043
        },
        {
          "index": 577,
          "VIOLATION DATE": "2023-03-05T00:00:00",
          "CAMERA ID": 71,
          "VIOLATIONS": 4886
        },
        {
          "index": 586,
          "VIOLATION DATE": "2023-03-06T00:00:00",
          "CAMERA ID": 136,
          "VIOLATIONS": 5112
        },
        {
          "index": 595,
          "VIOLATION DATE": "2023-03-07T00:00:00",
          "CAMERA ID": 133,
          "VIOLATIONS": 5867
        },
        {
          "index": 604,
          "VIOLATION DATE": "2023-03-08T00:00:00",
          "CAMERA ID": 137,
          "VIOLATIONS": 5741
        },
        {
          "index": 613,
          "VIOLATION DATE": "2023-03-09T00:00:00",
          "CAMERA ID": 132,
          "VIOLATIONS": 5362
        },
        {
          "index": 622,
          "VIOLATION DATE": "2023-03-10T00:00:00",
          "CAMERA ID": 132,
          "VIOLATIONS": 5380
        },
        {
          "index": 631,
          "VIOLATION DATE": "2023-03-11T00:00:00",
          "CAMERA ID": 73,
          "VIOLATIONS": 4813
        },
        {
          "index": 640,
          "VIOLATION DATE": "2023-03-12T00:00:00",
          "CAMERA ID": 74,
          "VIOLATIONS": 4521
        },
        {
          "index": 649,
          "VIOLATION DATE": "2023-03-13T00:00:00",
          "CAMERA ID": 135,
          "VIOLATIONS": 4774
        },
        {
          "index": 658,
          "VIOLATION DATE": "2023-03-14T00:00:00",
          "CAMERA ID": 137,
          "VIOLATIONS": 5797
        },
        {
          "index": 667,
          "VIOLATION DATE": "2023-03-15T00:00:00",
          "CAMERA ID": 139,
          "VIOLATIONS": 6121
        },
        {
          "index": 676,
          "VIOLATION DATE": "2023-03-16T00:00:00",
          "CAMERA ID": 138,
          "VIOLATIONS": 5199
        },
        {
          "index": 685,
          "VIOLATION DATE": "2023-03-17T00:00:00",
          "CAMERA ID": 85,
          "VIOLATIONS": 5145
        },
        {
          "index": 694,
          "VIOLATION DATE": "2023-03-18T00:00:00",
          "CAMERA ID": 75,
          "VIOLATIONS": 5888
        },
        {
          "index": 703,
          "VIOLATION DATE": "2023-03-19T00:00:00",
          "CAMERA ID": 75,
          "VIOLATIONS": 5927
        },
        {
          "index": 712,
          "VIOLATION DATE": "2023-03-20T00:00:00",
          "CAMERA ID": 142,
          "VIOLATIONS": 6407
        },
        {
          "index": 721,
          "VIOLATION DATE": "2023-03-21T00:00:00",
          "CAMERA ID": 145,
          "VIOLATIONS": 7158
        },
        {
          "index": 730,
          "VIOLATION DATE": "2023-03-22T00:00:00",
          "CAMERA ID": 143,
          "VIOLATIONS": 6207
        },
        {
          "index": 739,
          "VIOLATION DATE": "2023-03-23T00:00:00",
          "CAMERA ID": 140,
          "VIOLATIONS": 6667
        },
        {
          "index": 748,
          "VIOLATION DATE": "2023-03-24T00:00:00",
          "CAMERA ID": 139,
          "VIOLATIONS": 7140
        },
        {
          "index": 757,
          "VIOLATION DATE": "2023-03-25T00:00:00",
          "CAMERA ID": 77,
          "VIOLATIONS": 5771
        },
        {
          "index": 766,
          "VIOLATION DATE": "2023-03-26T00:00:00",
          "CAMERA ID": 77,
          "VIOLATIONS": 6101
        },
        {
          "index": 775,
          "VIOLATION DATE": "2023-03-27T00:00:00",
          "CAMERA ID": 140,
          "VIOLATIONS": 7090
        },
        {
          "index": 784,
          "VIOLATION DATE": "2023-03-28T00:00:00",
          "CAMERA ID": 143,
          "VIOLATIONS": 6827
        },
        {
          "index": 793,
          "VIOLATION DATE": "2023-03-29T00:00:00",
          "CAMERA ID": 91,
          "VIOLATIONS": 5617
        },
        {
          "index": 802,
          "VIOLATION DATE": "2023-03-30T00:00:00",
          "CAMERA ID": 146,
          "VIOLATIONS": 7484
        },
        {
          "index": 811,
          "VIOLATION DATE": "2023-03-31T00:00:00",
          "CAMERA ID": 142,
          "VIOLATIONS": 6724
        },
        {
          "index": 820,
          "VIOLATION DATE": "2023-04-01T00:00:00",
          "CAMERA ID": 77,
          "VIOLATIONS": 5828
        },
        {
          "index": 829,
          "VIOLATION DATE": "2023-04-02T00:00:00",
          "CAMERA ID": 77,
          "VIOLATIONS": 6885
        },
        {
          "index": 838,
          "VIOLATION DATE": "2023-04-03T00:00:00",
          "CAMERA ID": 86,
          "VIOLATIONS": 5257
        },
        {
          "index": 847,
          "VIOLATION DATE": "2023-04-04T00:00:00",
          "CAMERA ID": 86,
          "VIOLATIONS": 4632
        },
        {
          "index": 856,
          "VIOLATION DATE": "2023-04-05T00:00:00",
          "CAMERA ID": 84,
          "VIOLATIONS": 5571
        },
        {
          "index": 865,
          "VIOLATION DATE": "2023-04-06T00:00:00",
          "CAMERA ID": 84,
          "VIOLATIONS": 6102
        },
        {
          "index": 874,
          "VIOLATION DATE": "2023-04-07T00:00:00",
          "CAMERA ID": 79,
          "VIOLATIONS": 5862
        },
        {
          "index": 883,
          "VIOLATION DATE": "2023-04-08T00:00:00",
          "CAMERA ID": 77,
          "VIOLATIONS": 6563
        },
        {
          "index": 892,
          "VIOLATION DATE": "2023-04-09T00:00:00",
          "CAMERA ID": 77,
          "VIOLATIONS": 6985
        },
        {
          "index": 901,
          "VIOLATION DATE": "2023-04-10T00:00:00",
          "CAMERA ID": 136,
          "VIOLATIONS": 7329
        },
        {
          "index": 910,
          "VIOLATION DATE": "2023-04-11T00:00:00",
          "CAMERA ID": 138,
          "VIOLATIONS": 7488
        },
        {
          "index": 919,
          "VIOLATION DATE": "2023-04-12T00:00:00",
          "CAMERA ID": 138,
          "VIOLATIONS": 7759
        },
        {
          "index": 928,
          "VIOLATION DATE": "2023-04-13T00:00:00",
          "CAMERA ID": 139,
          "VIOLATIONS": 7927
        },
        {
          "index": 937,
          "VIOLATION DATE": "2023-04-14T00:00:00",
          "CAMERA ID": 136,
          "VIOLATIONS": 7986
        },
        {
          "index": 946,
          "VIOLATION DATE": "2023-04-15T00:00:00",
          "CAMERA ID": 74,
          "VIOLATIONS": 6222
        },
        {
          "index": 955,
          "VIOLATION DATE": "2023-04-16T00:00:00",
          "CAMERA ID": 73,
          "VIOLATIONS": 5408
        },
        {
          "index": 964,
          "VIOLATION DATE": "2023-04-17T00:00:00",
          "CAMERA ID": 139,
          "VIOLATIONS": 6913
        },
        {
          "index": 973,
          "VIOLATION DATE": "2023-04-18T00:00:00",
          "CAMERA ID": 139,
          "VIOLATIONS": 8530
        },
        {
          "index": 982,
          "VIOLATION DATE": "2023-04-19T00:00:00",
          "CAMERA ID": 145,
          "VIOLATIONS": 7244
        },
        {
          "index": 991,
          "VIOLATION DATE": "2023-04-20T00:00:00",
          "CAMERA ID": 143,
          "VIOLATIONS": 7154
        },
        {
          "index": 1000,
          "VIOLATION DATE": "2023-04-21T00:00:00",
          "CAMERA ID": 140,
          "VIOLATIONS": 7505
        },
        {
          "index": 1009,
          "VIOLATION DATE": "2023-04-22T00:00:00",
          "CAMERA ID": 75,
          "VIOLATIONS": 5718
        },
        {
          "index": 1018,
          "VIOLATION DATE": "2023-04-23T00:00:00",
          "CAMERA ID": 74,
          "VIOLATIONS": 5850
        },
        {
          "index": 1027,
          "VIOLATION DATE": "2023-04-24T00:00:00",
          "CAMERA ID": 140,
          "VIOLATIONS": 7242
        },
        {
          "index": 1036,
          "VIOLATION DATE": "2023-04-25T00:00:00",
          "CAMERA ID": 145,
          "VIOLATIONS": 6407
        },
        {
          "index": 1045,
          "VIOLATION DATE": "2023-04-26T00:00:00",
          "CAMERA ID": 143,
          "VIOLATIONS": 7310
        },
        {
          "index": 1054,
          "VIOLATION DATE": "2023-04-27T00:00:00",
          "CAMERA ID": 145,
          "VIOLATIONS": 7884
        },
        {
          "index": 1063,
          "VIOLATION DATE": "2023-04-28T00:00:00",
          "CAMERA ID": 140,
          "VIOLATIONS": 7765
        },
        {
          "index": 1072,
          "VIOLATION DATE": "2023-04-29T00:00:00",
          "CAMERA ID": 76,
          "VIOLATIONS": 5819
        },
        {
          "index": 1081,
          "VIOLATION DATE": "2023-04-30T00:00:00",
          "CAMERA ID": 76,
          "VIOLATIONS": 5747
        },
        {
          "index": 1090,
          "VIOLATION DATE": "2023-05-01T00:00:00",
          "CAMERA ID": 142,
          "VIOLATIONS": 6015
        },
        {
          "index": 1099,
          "VIOLATION DATE": "2023-05-02T00:00:00",
          "CAMERA ID": 146,
          "VIOLATIONS": 7365
        },
        {
          "index": 1108,
          "VIOLATION DATE": "2023-05-03T00:00:00",
          "CAMERA ID": 147,
          "VIOLATIONS": 7892
        },
        {
          "index": 1117,
          "VIOLATION DATE": "2023-05-04T00:00:00",
          "CAMERA ID": 146,
          "VIOLATIONS": 8412
        },
        {
          "index": 1126,
          "VIOLATION DATE": "2023-05-05T00:00:00",
          "CAMERA ID": 148,
          "VIOLATIONS": 8671
        },
        {
          "index": 1135,
          "VIOLATION DATE": "2023-05-06T00:00:00",
          "CAMERA ID": 75,
          "VIOLATIONS": 6379
        },
        {
          "index": 1144,
          "VIOLATION DATE": "2023-05-07T00:00:00",
          "CAMERA ID": 75,
          "VIOLATIONS": 7335
        },
        {
          "index": 1153,
          "VIOLATION DATE": "2023-05-08T00:00:00",
          "CAMERA ID": 148,
          "VIOLATIONS": 5758
        },
        {
          "index": 1162,
          "VIOLATION DATE": "2023-05-09T00:00:00",
          "CAMERA ID": 147,
          "VIOLATIONS": 7979
        },
        {
          "index": 1171,
          "VIOLATION DATE": "2023-05-10T00:00:00",
          "CAMERA ID": 150,
          "VIOLATIONS": 8212
        },
        {
          "index": 1180,
          "VIOLATION DATE": "2023-05-11T00:00:00",
          "CAMERA ID": 150,
          "VIOLATIONS": 8499
        },
        {
          "index": 1189,
          "VIOLATION DATE": "2023-05-12T00:00:00",
          "CAMERA ID": 150,
          "VIOLATIONS": 7446
        },
        {
          "index": 1198,
          "VIOLATION DATE": "2023-05-13T00:00:00",
          "CAMERA ID": 80,
          "VIOLATIONS": 6510
        },
        {
          "index": 1207,
          "VIOLATION DATE": "2023-05-14T00:00:00",
          "CAMERA ID": 80,
          "VIOLATIONS": 6569
        },
        {
          "index": 1216,
          "VIOLATION DATE": "2023-05-15T00:00:00",
          "CAMERA ID": 150,
          "VIOLATIONS": 7790
        },
        {
          "index": 1225,
          "VIOLATION DATE": "2023-05-16T00:00:00",
          "CAMERA ID": 148,
          "VIOLATIONS": 7884
        },
        {
          "index": 1234,
          "VIOLATION DATE": "2023-05-17T00:00:00",
          "CAMERA ID": 150,
          "VIOLATIONS": 7780
        },
        {
          "index": 1243,
          "VIOLATION DATE": "2023-05-18T00:00:00",
          "CAMERA ID": 145,
          "VIOLATIONS": 7780
        },
        {
          "index": 1252,
          "VIOLATION DATE": "2023-05-19T00:00:00",
          "CAMERA ID": 149,
          "VIOLATIONS": 7651
        },
        {
          "index": 1261,
          "VIOLATION DATE": "2023-05-20T00:00:00",
          "CAMERA ID": 79,
          "VIOLATIONS": 6721
        },
        {
          "index": 1270,
          "VIOLATION DATE": "2023-05-21T00:00:00",
          "CAMERA ID": 79,
          "VIOLATIONS": 6675
        },
        {
          "index": 1279,
          "VIOLATION DATE": "2023-05-22T00:00:00",
          "CAMERA ID": 149,
          "VIOLATIONS": 7981
        },
        {
          "index": 1288,
          "VIOLATION DATE": "2023-05-23T00:00:00",
          "CAMERA ID": 149,
          "VIOLATIONS": 7681
        },
        {
          "index": 1297,
          "VIOLATION DATE": "2023-05-24T00:00:00",
          "CAMERA ID": 149,
          "VIOLATIONS": 7677
        },
        {
          "index": 1306,
          "VIOLATION DATE": "2023-05-25T00:00:00",
          "CAMERA ID": 152,
          "VIOLATIONS": 7703
        },
        {
          "index": 1315,
          "VIOLATION DATE": "2023-05-26T00:00:00",
          "CAMERA ID": 145,
          "VIOLATIONS": 8407
        },
        {
          "index": 1324,
          "VIOLATION DATE": "2023-05-27T00:00:00",
          "CAMERA ID": 81,
          "VIOLATIONS": 7079
        },
        {
          "index": 1333,
          "VIOLATION DATE": "2023-05-28T00:00:00",
          "CAMERA ID": 81,
          "VIOLATIONS": 7428
        },
        {
          "index": 1342,
          "VIOLATION DATE": "2023-05-29T00:00:00",
          "CAMERA ID": 81,
          "VIOLATIONS": 6992
        },
        {
          "index": 1351,
          "VIOLATION DATE": "2023-05-30T00:00:00",
          "CAMERA ID": 150,
          "VIOLATIONS": 7707
        },
        {
          "index": 1360,
          "VIOLATION DATE": "2023-05-31T00:00:00",
          "CAMERA ID": 151,
          "VIOLATIONS": 7335
        },
        {
          "index": 1369,
          "VIOLATION DATE": "2023-06-01T00:00:00",
          "CAMERA ID": 149,
          "VIOLATIONS": 8267
        },
        {
          "index": 1378,
          "VIOLATION DATE": "2023-06-02T00:00:00",
          "CAMERA ID": 150,
          "VIOLATIONS": 8170
        },
        {
          "index": 1387,
          "VIOLATION DATE": "2023-06-03T00:00:00",
          "CAMERA ID": 82,
          "VIOLATIONS": 6538
        },
        {
          "index": 1396,
          "VIOLATION DATE": "2023-06-04T00:00:00",
          "CAMERA ID": 80,
          "VIOLATIONS": 6636
        },
        {
          "index": 1405,
          "VIOLATION DATE": "2023-06-05T00:00:00",
          "CAMERA ID": 146,
          "VIOLATIONS": 7786
        },
        {
          "index": 1414,
          "VIOLATION DATE": "2023-06-06T00:00:00",
          "CAMERA ID": 147,
          "VIOLATIONS": 7412
        },
        {
          "index": 1423,
          "VIOLATION DATE": "2023-06-07T00:00:00",
          "CAMERA ID": 147,
          "VIOLATIONS": 8325
        },
        {
          "index": 1432,
          "VIOLATION DATE": "2023-06-08T00:00:00",
          "CAMERA ID": 95,
          "VIOLATIONS": 6040
        },
        {
          "index": 1441,
          "VIOLATION DATE": "2023-06-09T00:00:00",
          "CAMERA ID": 93,
          "VIOLATIONS": 6063
        },
        {
          "index": 1450,
          "VIOLATION DATE": "2023-06-10T00:00:00",
          "CAMERA ID": 78,
          "VIOLATIONS": 6798
        },
        {
          "index": 1459,
          "VIOLATION DATE": "2023-06-11T00:00:00",
          "CAMERA ID": 82,
          "VIOLATIONS": 5635
        },
        {
          "index": 1468,
          "VIOLATION DATE": "2023-06-12T00:00:00",
          "CAMERA ID": 89,
          "VIOLATIONS": 5659
        },
        {
          "index": 1477,
          "VIOLATION DATE": "2023-06-13T00:00:00",
          "CAMERA ID": 85,
          "VIOLATIONS": 4237
        },
        {
          "index": 1486,
          "VIOLATION DATE": "2023-06-14T00:00:00",
          "CAMERA ID": 87,
          "VIOLATIONS": 5644
        },
        {
          "index": 1495,
          "VIOLATION DATE": "2023-06-15T00:00:00",
          "CAMERA ID": 88,
          "VIOLATIONS": 6024
        },
        {
          "index": 1504,
          "VIOLATION DATE": "2023-06-16T00:00:00",
          "CAMERA ID": 86,
          "VIOLATIONS": 6029
        },
        {
          "index": 1513,
          "VIOLATION DATE": "2023-06-17T00:00:00",
          "CAMERA ID": 83,
          "VIOLATIONS": 7491
        },
        {
          "index": 1522,
          "VIOLATION DATE": "2023-06-18T00:00:00",
          "CAMERA ID": 82,
          "VIOLATIONS": 7553
        },
        {
          "index": 1531,
          "VIOLATION DATE": "2023-06-19T00:00:00",
          "CAMERA ID": 83,
          "VIOLATIONS": 6304
        },
        {
          "index": 1540,
          "VIOLATION DATE": "2023-06-20T00:00:00",
          "CAMERA ID": 99,
          "VIOLATIONS": 6681
        },
        {
          "index": 1549,
          "VIOLATION DATE": "2023-06-21T00:00:00",
          "CAMERA ID": 97,
          "VIOLATIONS": 6710
        },
        {
          "index": 1558,
          "VIOLATION DATE": "2023-06-22T00:00:00",
          "CAMERA ID": 97,
          "VIOLATIONS": 6572
        },
        {
          "index": 1567,
          "VIOLATION DATE": "2023-06-23T00:00:00",
          "CAMERA ID": 91,
          "VIOLATIONS": 6599
        },
        {
          "index": 1576,
          "VIOLATION DATE": "2023-06-24T00:00:00",
          "CAMERA ID": 81,
          "VIOLATIONS": 7191
        },
        {
          "index": 1585,
          "VIOLATION DATE": "2023-06-25T00:00:00",
          "CAMERA ID": 80,
          "VIOLATIONS": 7043
        },
        {
          "index": 1594,
          "VIOLATION DATE": "2023-06-26T00:00:00",
          "CAMERA ID": 106,
          "VIOLATIONS": 6130
        },
        {
          "index": 1603,
          "VIOLATION DATE": "2023-06-27T00:00:00",
          "CAMERA ID": 135,
          "VIOLATIONS": 7809
        },
        {
          "index": 1612,
          "VIOLATION DATE": "2023-06-28T00:00:00",
          "CAMERA ID": 137,
          "VIOLATIONS": 8428
        },
        {
          "index": 1621,
          "VIOLATION DATE": "2023-06-29T00:00:00",
          "CAMERA ID": 136,
          "VIOLATIONS": 7637
        },
        {
          "index": 1630,
          "VIOLATION DATE": "2023-06-30T00:00:00",
          "CAMERA ID": 130,
          "VIOLATIONS": 8417
        }
      ]
    },
    {
      "name": "data_1",
      "source": "data-37aa2254c4f02587a951ba32ab695aa3",
      "transform": [
        {
          "type": "filter",
          "expr": "isValid(datum[\"CAMERA ID\"]) && isFinite(+datum[\"CAMERA ID\"])"
        }
      ]
    },
    {
      "name": "data_2",
      "source": "data-37aa2254c4f02587a951ba32ab695aa3",
      "transform": [
        {
          "type": "filter",
          "expr": "isValid(datum[\"VIOLATIONS\"]) && isFinite(+datum[\"VIOLATIONS\"])"
        }
      ]
    }
  ],
  "signals": [
    {"name": "childHeight", "value": 250},
    {
      "name": "unit",
      "value": {},
      "on": [
        {"events": "mousemove", "update": "isTuple(group()) ? group() : unit"}
      ]
    },
    {
      "name": "param_16",
      "update": "vlSelectionResolve(\"param_16_store\", \"union\")"
    }
  ],
  "layout": {"padding": 20, "columns": 1, "bounds": "full", "align": "each"},
  "marks": [
    {
      "type": "group",
      "name": "view_31_group",
      "style": "cell",
      "encode": {
        "update": {
          "width": {"signal": "width"},
          "height": {"signal": "childHeight"}
        }
      },
      "signals": [
        {
          "name": "param_16_x",
          "value": [],
          "on": [
            {
              "events": {
                "source": "scope",
                "type": "mousedown",
                "filter": [
                  "!event.item || event.item.mark.name !== \"param_16_brush\""
                ]
              },
              "update": "[x(unit), x(unit)]"
            },
            {
              "events": {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {
                    "source": "scope",
                    "type": "mousedown",
                    "filter": [
                      "!event.item || event.item.mark.name !== \"param_16_brush\""
                    ]
                  },
                  {"source": "window", "type": "mouseup"}
                ]
              },
              "update": "[param_16_x[0], clamp(x(unit), 0, width)]"
            },
            {
              "events": {"signal": "param_16_scale_trigger"},
              "update": "[0, 0]"
            },
            {
              "events": [{"source": "view", "type": "dblclick"}],
              "update": "[0, 0]"
            },
            {
              "events": {"signal": "param_16_translate_delta"},
              "update": "clampRange(panLinear(param_16_translate_anchor.extent_x, param_16_translate_delta.x / span(param_16_translate_anchor.extent_x)), 0, width)"
            },
            {
              "events": {"signal": "param_16_zoom_delta"},
              "update": "clampRange(zoomLinear(param_16_x, param_16_zoom_anchor.x, param_16_zoom_delta), 0, width)"
            }
          ]
        },
        {
          "name": "param_16_VIOLATION_DATE",
          "on": [
            {
              "events": {"signal": "param_16_x"},
              "update": "param_16_x[0] === param_16_x[1] ? null : invert(\"view_31_x\", param_16_x)"
            }
          ]
        },
        {
          "name": "param_16_y",
          "value": [],
          "on": [
            {
              "events": {
                "source": "scope",
                "type": "mousedown",
                "filter": [
                  "!event.item || event.item.mark.name !== \"param_16_brush\""
                ]
              },
              "update": "[y(unit), y(unit)]"
            },
            {
              "events": {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {
                    "source": "scope",
                    "type": "mousedown",
                    "filter": [
                      "!event.item || event.item.mark.name !== \"param_16_brush\""
                    ]
                  },
                  {"source": "window", "type": "mouseup"}
                ]
              },
              "update": "[param_16_y[0], clamp(y(unit), 0, childHeight)]"
            },
            {
              "events": {"signal": "param_16_scale_trigger"},
              "update": "[scale(\"view_31_y\", param_16_CAMERA_ID[0]), scale(\"view_31_y\", param_16_CAMERA_ID[1])]"
            },
            {
              "events": [{"source": "view", "type": "dblclick"}],
              "update": "[0, 0]"
            },
            {
              "events": {"signal": "param_16_translate_delta"},
              "update": "clampRange(panLinear(param_16_translate_anchor.extent_y, param_16_translate_delta.y / span(param_16_translate_anchor.extent_y)), 0, childHeight)"
            },
            {
              "events": {"signal": "param_16_zoom_delta"},
              "update": "clampRange(zoomLinear(param_16_y, param_16_zoom_anchor.y, param_16_zoom_delta), 0, childHeight)"
            }
          ]
        },
        {
          "name": "param_16_CAMERA_ID",
          "on": [
            {
              "events": {"signal": "param_16_y"},
              "update": "param_16_y[0] === param_16_y[1] ? null : invert(\"view_31_y\", param_16_y)"
            }
          ]
        },
        {
          "name": "param_16_scale_trigger",
          "value": {},
          "on": [
            {
              "events": [{"scale": "view_31_x"}, {"scale": "view_31_y"}],
              "update": "(!isArray(param_16_VIOLATION_DATE) || (invert(\"view_31_x\", param_16_x)[0] === param_16_VIOLATION_DATE[0] && invert(\"view_31_x\", param_16_x)[1] === param_16_VIOLATION_DATE[1])) && (!isArray(param_16_CAMERA_ID) || (+invert(\"view_31_y\", param_16_y)[0] === +param_16_CAMERA_ID[0] && +invert(\"view_31_y\", param_16_y)[1] === +param_16_CAMERA_ID[1])) ? param_16_scale_trigger : {}"
            }
          ]
        },
        {
          "name": "param_16_tuple",
          "on": [
            {
              "events": [
                {"signal": "param_16_VIOLATION_DATE || param_16_CAMERA_ID"}
              ],
              "update": "param_16_VIOLATION_DATE && param_16_CAMERA_ID ? {unit: \"view_31\", fields: param_16_tuple_fields, values: [param_16_VIOLATION_DATE,param_16_CAMERA_ID]} : null"
            }
          ]
        },
        {
          "name": "param_16_tuple_fields",
          "value": [
            {"field": "VIOLATION DATE", "channel": "x", "type": "E"},
            {"field": "CAMERA ID", "channel": "y", "type": "R"}
          ]
        },
        {
          "name": "param_16_translate_anchor",
          "value": {},
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "mousedown",
                  "markname": "param_16_brush"
                }
              ],
              "update": "{x: x(unit), y: y(unit), extent_x: slice(param_16_x), extent_y: slice(param_16_y)}"
            }
          ]
        },
        {
          "name": "param_16_translate_delta",
          "value": {},
          "on": [
            {
              "events": [
                {
                  "source": "window",
                  "type": "mousemove",
                  "consume": true,
                  "between": [
                    {
                      "source": "scope",
                      "type": "mousedown",
                      "markname": "param_16_brush"
                    },
                    {"source": "window", "type": "mouseup"}
                  ]
                }
              ],
              "update": "{x: param_16_translate_anchor.x - x(unit), y: param_16_translate_anchor.y - y(unit)}"
            }
          ]
        },
        {
          "name": "param_16_zoom_anchor",
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "wheel",
                  "consume": true,
                  "markname": "param_16_brush"
                }
              ],
              "update": "{x: x(unit), y: y(unit)}"
            }
          ]
        },
        {
          "name": "param_16_zoom_delta",
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "wheel",
                  "consume": true,
                  "markname": "param_16_brush"
                }
              ],
              "force": true,
              "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))"
            }
          ]
        },
        {
          "name": "param_16_modify",
          "on": [
            {
              "events": {"signal": "param_16_tuple"},
              "update": "modify(\"param_16_store\", param_16_tuple, true)"
            }
          ]
        }
      ],
      "marks": [
        {
          "name": "param_16_brush_bg",
          "type": "rect",
          "clip": true,
          "encode": {
            "enter": {
              "fill": {"value": "#333"},
              "fillOpacity": {"value": 0.125}
            },
            "update": {
              "x": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_31\"",
                  "signal": "param_16_x[0]"
                },
                {"value": 0}
              ],
              "y": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_31\"",
                  "signal": "param_16_y[0]"
                },
                {"value": 0}
              ],
              "x2": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_31\"",
                  "signal": "param_16_x[1]"
                },
                {"value": 0}
              ],
              "y2": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_31\"",
                  "signal": "param_16_y[1]"
                },
                {"value": 0}
              ]
            }
          }
        },
        {
          "name": "view_31_marks",
          "type": "symbol",
          "style": ["point"],
          "interactive": true,
          "from": {"data": "data_1"},
          "encode": {
            "update": {
              "opacity": {"value": 0.7},
              "fill": {"value": "transparent"},
              "stroke": [
                {
                  "test": "!length(data(\"param_16_store\")) || vlSelectionTest(\"param_16_store\", datum)",
                  "value": "steelblue"
                },
                {"value": "lightgray"}
              ],
              "ariaRoleDescription": {"value": "point"},
              "description": {
                "signal": "\"VIOLATION DATE: \" + (isValid(datum[\"VIOLATION DATE\"]) ? datum[\"VIOLATION DATE\"] : \"\"+datum[\"VIOLATION DATE\"]) + \"; CAMERA ID: \" + (format(datum[\"CAMERA ID\"], \"\"))"
              },
              "x": {"scale": "view_31_x", "field": "VIOLATION DATE"},
              "y": {"scale": "view_31_y", "field": "CAMERA ID"}
            }
          }
        },
        {
          "name": "param_16_brush",
          "type": "rect",
          "clip": true,
          "encode": {
            "enter": {"fill": {"value": "transparent"}},
            "update": {
              "x": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_31\"",
                  "signal": "param_16_x[0]"
                },
                {"value": 0}
              ],
              "y": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_31\"",
                  "signal": "param_16_y[0]"
                },
                {"value": 0}
              ],
              "x2": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_31\"",
                  "signal": "param_16_x[1]"
                },
                {"value": 0}
              ],
              "y2": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_31\"",
                  "signal": "param_16_y[1]"
                },
                {"value": 0}
              ],
              "stroke": [
                {
                  "test": "param_16_x[0] !== param_16_x[1] && param_16_y[0] !== param_16_y[1]",
                  "value": "white"
                },
                {"value": null}
              ]
            }
          }
        }
      ],
      "axes": [
        {
          "scale": "view_31_y",
          "orient": "left",
          "gridScale": "view_31_x",
          "grid": true,
          "tickCount": {"signal": "ceil(childHeight/40)"},
          "domain": false,
          "labels": false,
          "aria": false,
          "maxExtent": 0,
          "minExtent": 0,
          "ticks": false,
          "zindex": 0
        },
        {
          "scale": "view_31_x",
          "orient": "bottom",
          "grid": false,
          "title": "VIOLATION DATE",
          "labelAlign": "right",
          "labelAngle": 270,
          "labelBaseline": "middle",
          "zindex": 0
        },
        {
          "scale": "view_31_y",
          "orient": "left",
          "grid": false,
          "title": "CAMERA ID",
          "labelOverlap": true,
          "tickCount": {"signal": "ceil(childHeight/40)"},
          "zindex": 0
        }
      ]
    },
    {
      "type": "group",
      "name": "view_32_group",
      "style": "cell",
      "encode": {
        "update": {
          "width": {"signal": "width"},
          "height": {"signal": "childHeight"}
        }
      },
      "signals": [
        {
          "name": "param_16_x",
          "value": [],
          "on": [
            {
              "events": {
                "source": "scope",
                "type": "mousedown",
                "filter": [
                  "!event.item || event.item.mark.name !== \"param_16_brush\""
                ]
              },
              "update": "[x(unit), x(unit)]"
            },
            {
              "events": {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {
                    "source": "scope",
                    "type": "mousedown",
                    "filter": [
                      "!event.item || event.item.mark.name !== \"param_16_brush\""
                    ]
                  },
                  {"source": "window", "type": "mouseup"}
                ]
              },
              "update": "[param_16_x[0], clamp(x(unit), 0, width)]"
            },
            {
              "events": {"signal": "param_16_scale_trigger"},
              "update": "[0, 0]"
            },
            {
              "events": [{"source": "view", "type": "dblclick"}],
              "update": "[0, 0]"
            },
            {
              "events": {"signal": "param_16_translate_delta"},
              "update": "clampRange(panLinear(param_16_translate_anchor.extent_x, param_16_translate_delta.x / span(param_16_translate_anchor.extent_x)), 0, width)"
            },
            {
              "events": {"signal": "param_16_zoom_delta"},
              "update": "clampRange(zoomLinear(param_16_x, param_16_zoom_anchor.x, param_16_zoom_delta), 0, width)"
            }
          ]
        },
        {
          "name": "param_16_VIOLATION_DATE",
          "on": [
            {
              "events": {"signal": "param_16_x"},
              "update": "param_16_x[0] === param_16_x[1] ? null : invert(\"view_32_x\", param_16_x)"
            }
          ]
        },
        {
          "name": "param_16_y",
          "value": [],
          "on": [
            {
              "events": {
                "source": "scope",
                "type": "mousedown",
                "filter": [
                  "!event.item || event.item.mark.name !== \"param_16_brush\""
                ]
              },
              "update": "[y(unit), y(unit)]"
            },
            {
              "events": {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {
                    "source": "scope",
                    "type": "mousedown",
                    "filter": [
                      "!event.item || event.item.mark.name !== \"param_16_brush\""
                    ]
                  },
                  {"source": "window", "type": "mouseup"}
                ]
              },
              "update": "[param_16_y[0], clamp(y(unit), 0, childHeight)]"
            },
            {
              "events": {"signal": "param_16_scale_trigger"},
              "update": "[scale(\"view_32_y\", param_16_VIOLATIONS[0]), scale(\"view_32_y\", param_16_VIOLATIONS[1])]"
            },
            {
              "events": [{"source": "view", "type": "dblclick"}],
              "update": "[0, 0]"
            },
            {
              "events": {"signal": "param_16_translate_delta"},
              "update": "clampRange(panLinear(param_16_translate_anchor.extent_y, param_16_translate_delta.y / span(param_16_translate_anchor.extent_y)), 0, childHeight)"
            },
            {
              "events": {"signal": "param_16_zoom_delta"},
              "update": "clampRange(zoomLinear(param_16_y, param_16_zoom_anchor.y, param_16_zoom_delta), 0, childHeight)"
            }
          ]
        },
        {
          "name": "param_16_VIOLATIONS",
          "on": [
            {
              "events": {"signal": "param_16_y"},
              "update": "param_16_y[0] === param_16_y[1] ? null : invert(\"view_32_y\", param_16_y)"
            }
          ]
        },
        {
          "name": "param_16_scale_trigger",
          "value": {},
          "on": [
            {
              "events": [{"scale": "view_32_x"}, {"scale": "view_32_y"}],
              "update": "(!isArray(param_16_VIOLATION_DATE) || (invert(\"view_32_x\", param_16_x)[0] === param_16_VIOLATION_DATE[0] && invert(\"view_32_x\", param_16_x)[1] === param_16_VIOLATION_DATE[1])) && (!isArray(param_16_VIOLATIONS) || (+invert(\"view_32_y\", param_16_y)[0] === +param_16_VIOLATIONS[0] && +invert(\"view_32_y\", param_16_y)[1] === +param_16_VIOLATIONS[1])) ? param_16_scale_trigger : {}"
            }
          ]
        },
        {
          "name": "param_16_tuple",
          "on": [
            {
              "events": [
                {"signal": "param_16_VIOLATION_DATE || param_16_VIOLATIONS"}
              ],
              "update": "param_16_VIOLATION_DATE && param_16_VIOLATIONS ? {unit: \"view_32\", fields: param_16_tuple_fields, values: [param_16_VIOLATION_DATE,param_16_VIOLATIONS]} : null"
            }
          ]
        },
        {
          "name": "param_16_tuple_fields",
          "value": [
            {"field": "VIOLATION DATE", "channel": "x", "type": "E"},
            {"field": "VIOLATIONS", "channel": "y", "type": "R"}
          ]
        },
        {
          "name": "param_16_translate_anchor",
          "value": {},
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "mousedown",
                  "markname": "param_16_brush"
                }
              ],
              "update": "{x: x(unit), y: y(unit), extent_x: slice(param_16_x), extent_y: slice(param_16_y)}"
            }
          ]
        },
        {
          "name": "param_16_translate_delta",
          "value": {},
          "on": [
            {
              "events": [
                {
                  "source": "window",
                  "type": "mousemove",
                  "consume": true,
                  "between": [
                    {
                      "source": "scope",
                      "type": "mousedown",
                      "markname": "param_16_brush"
                    },
                    {"source": "window", "type": "mouseup"}
                  ]
                }
              ],
              "update": "{x: param_16_translate_anchor.x - x(unit), y: param_16_translate_anchor.y - y(unit)}"
            }
          ]
        },
        {
          "name": "param_16_zoom_anchor",
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "wheel",
                  "consume": true,
                  "markname": "param_16_brush"
                }
              ],
              "update": "{x: x(unit), y: y(unit)}"
            }
          ]
        },
        {
          "name": "param_16_zoom_delta",
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "wheel",
                  "consume": true,
                  "markname": "param_16_brush"
                }
              ],
              "force": true,
              "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))"
            }
          ]
        },
        {
          "name": "param_16_modify",
          "on": [
            {
              "events": {"signal": "param_16_tuple"},
              "update": "modify(\"param_16_store\", param_16_tuple, true)"
            }
          ]
        }
      ],
      "marks": [
        {
          "name": "param_16_brush_bg",
          "type": "rect",
          "clip": true,
          "encode": {
            "enter": {
              "fill": {"value": "#333"},
              "fillOpacity": {"value": 0.125}
            },
            "update": {
              "x": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_32\"",
                  "signal": "param_16_x[0]"
                },
                {"value": 0}
              ],
              "y": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_32\"",
                  "signal": "param_16_y[0]"
                },
                {"value": 0}
              ],
              "x2": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_32\"",
                  "signal": "param_16_x[1]"
                },
                {"value": 0}
              ],
              "y2": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_32\"",
                  "signal": "param_16_y[1]"
                },
                {"value": 0}
              ]
            }
          }
        },
        {
          "name": "view_32_marks",
          "type": "symbol",
          "style": ["point"],
          "interactive": true,
          "from": {"data": "data_2"},
          "encode": {
            "update": {
              "opacity": {"value": 0.7},
              "fill": {"value": "transparent"},
              "stroke": [
                {
                  "test": "!length(data(\"param_16_store\")) || vlSelectionTest(\"param_16_store\", datum)",
                  "value": "steelblue"
                },
                {"value": "lightgray"}
              ],
              "ariaRoleDescription": {"value": "point"},
              "description": {
                "signal": "\"VIOLATION DATE: \" + (isValid(datum[\"VIOLATION DATE\"]) ? datum[\"VIOLATION DATE\"] : \"\"+datum[\"VIOLATION DATE\"]) + \"; VIOLATIONS: \" + (format(datum[\"VIOLATIONS\"], \"\"))"
              },
              "x": {"scale": "view_32_x", "field": "VIOLATION DATE"},
              "y": {"scale": "view_32_y", "field": "VIOLATIONS"}
            }
          }
        },
        {
          "name": "param_16_brush",
          "type": "rect",
          "clip": true,
          "encode": {
            "enter": {"fill": {"value": "transparent"}},
            "update": {
              "x": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_32\"",
                  "signal": "param_16_x[0]"
                },
                {"value": 0}
              ],
              "y": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_32\"",
                  "signal": "param_16_y[0]"
                },
                {"value": 0}
              ],
              "x2": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_32\"",
                  "signal": "param_16_x[1]"
                },
                {"value": 0}
              ],
              "y2": [
                {
                  "test": "data(\"param_16_store\").length && data(\"param_16_store\")[0].unit === \"view_32\"",
                  "signal": "param_16_y[1]"
                },
                {"value": 0}
              ],
              "stroke": [
                {
                  "test": "param_16_x[0] !== param_16_x[1] && param_16_y[0] !== param_16_y[1]",
                  "value": "white"
                },
                {"value": null}
              ]
            }
          }
        }
      ],
      "axes": [
        {
          "scale": "view_32_y",
          "orient": "left",
          "gridScale": "view_32_x",
          "grid": true,
          "tickCount": {"signal": "ceil(childHeight/40)"},
          "domain": false,
          "labels": false,
          "aria": false,
          "maxExtent": 0,
          "minExtent": 0,
          "ticks": false,
          "zindex": 0
        },
        {
          "scale": "view_32_x",
          "orient": "bottom",
          "grid": false,
          "title": "VIOLATION DATE",
          "labelAlign": "right",
          "labelAngle": 270,
          "labelBaseline": "middle",
          "zindex": 0
        },
        {
          "scale": "view_32_y",
          "orient": "left",
          "grid": false,
          "title": "VIOLATIONS",
          "labelOverlap": true,
          "tickCount": {"signal": "ceil(childHeight/40)"},
          "zindex": 0
        }
      ]
    }
  ],
  "scales": [
    {
      "name": "view_31_x",
      "type": "point",
      "domain": {"data": "data_1", "field": "VIOLATION DATE", "sort": true},
      "range": [0, {"signal": "width"}],
      "padding": 0.5
    },
    {
      "name": "view_31_y",
      "type": "linear",
      "domain": {"data": "data_1", "field": "CAMERA ID"},
      "range": [{"signal": "childHeight"}, 0],
      "nice": true,
      "zero": true
    },
    {
      "name": "view_32_x",
      "type": "point",
      "domain": {"data": "data_2", "field": "VIOLATION DATE", "sort": true},
      "range": [0, {"signal": "width"}],
      "padding": 0.5
    },
    {
      "name": "view_32_y",
      "type": "linear",
      "domain": {"data": "data_2", "field": "VIOLATIONS"},
      "range": [{"signal": "childHeight"}, 0],
      "nice": true,
      "zero": true
    }
  ]
};
vegaEmbed("#vis1", spec1);

const spec2 = {
  $schema: "https://vega.github.io/schema/vega-lite/v5.json",
  data: {
    values: [
      { category: "A", group: "x", value: 0.1 },
      { category: "A", group: "y", value: 0.6 },
      { category: "A", group: "z", value: 0.9 },
      { category: "B", group: "x", value: 0.7 },
      { category: "B", group: "y", value: 0.2 },
      { category: "B", group: "z", value: 1.1 },
      { category: "C", group: "x", value: 0.6 },
      { category: "C", group: "y", value: 0.1 },
      { category: "C", group: "z", value: 0.2 },
    ],
  },
  mark: "bar",
  encoding: {
    x: { field: "category" },
    y: { field: "value", type: "quantitative" },
    xOffset: { field: "group" },
    color: { field: "group" },
  },
};
vegaEmbed("#vis2", spec2);

const spec3 = {
  $schema: "https://vega.github.io/schema/vega-lite/v5.json",
  data: {
    url: "https://cdn.jsdelivr.net/npm/vega-datasets@latest/data/seattle-weather.csv",
  },
  mark: "bar",

  encoding: {
    x: {
      timeUnit: "month",
      field: "date",
      type: "ordinal",
      title: "Month of the year",
    },
    y: {
      aggregate: "count",
      type: "quantitative",
    },
    color: {
      field: "weather",
      type: "nominal",
      scale: {
        domain: ["sun", "fog", "drizzle", "rain", "snow"],
        range: ["#e7ba52", "#c7c7c7", "#aec7e8", "#1f77b4", "#9467bd"],
      },
      title: "Weather type",
    },
  },
};
vegaEmbed("#vis3", spec3);

const spec4 = {
  $schema: "https://vega.github.io/schema/vega-lite/v5.json",
  data: {
    url: "https://cdn.jsdelivr.net/npm/vega-datasets@latest/data/seattle-weather.csv",
  },
  mark: { type: "bar", cornerRadiusTopLeft: 3, cornerRadiusTopRight: 3 },
  encoding: {
    x: { timeUnit: "month", field: "date", type: "ordinal" },
    y: { aggregate: "count" },
    color: { field: "weather" },
  },
};
vegaEmbed("#vis4", spec4);

const spec5 = {
  $schema: "https://vega.github.io/schema/vega-lite/v5.json",
  description: "Google's stock price over time.",
  data: {
    url: "https://cdn.jsdelivr.net/npm/vega-datasets@latest/data/stocks.csv",
  },
  transform: [{ filter: "datum.symbol==='GOOG'" }],
  mark: "line",
  encoding: {
    x: { field: "date", type: "temporal" },
    y: { field: "price", type: "quantitative" },
  },
};
vegaEmbed("#vis5", spec5);

const spec6 = {
  $schema: "https://vega.github.io/schema/vega-lite/v5.json",
  description: "Stock prices of 5 Tech Companies over Time.",
  data: {
    url: "https://cdn.jsdelivr.net/npm/vega-datasets@latest/data/stocks.csv",
  },
  mark: {
    type: "line",
    point: true,
  },
  encoding: {
    x: { timeUnit: "year", field: "date" },
    y: { aggregate: "mean", field: "price", type: "quantitative" },
    color: { field: "symbol", type: "nominal" },
  },
};
vegaEmbed("#vis6", spec6);
